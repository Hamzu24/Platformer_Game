<!DOCTYPE html>
<html>
<body>
<div class="page-wrap">
<img src="https://www.shareicon.net/download/2016/01/03/697573_save_512x512.png", id='saveb'/>
<div id="main"></div>
<div id="floor1"></div>
<div id="floor2"></div>
<div id="floor3"></div>
<div id="floor4"></div>
<div id="floor5"></div>
<div id="floor6"></div>
<div id="floor7"></div>
<div id="floor8"></div>
<div id="floor9"></div>
<div id="floor10"></div>
<div id="floor11"></div>
<div id="floor12"></div>
<div id="floor13"></div>
<div id="floor14"></div>
<div id="floor15"></div>
<div id="floor16"></div>
<div id="floor17"></div>
<div id="floor18"></div>
<div id="floor19"></div>
<div id="floor20"></div>
<div id="floor21"></div>
<div id="enemy1"></div>
<div id="enemy2"></div>
<div id="enemy3"></div>
<div id="enemy4"></div>
<div id="enemy5"></div>
<div id="enemy6"></div>
<div id="enemy7"></div>
<div id="enemy8"></div>
<div id="enemy9"></div>
<div id="enemy10"></div>
<div id="enemy11"></div>
<div id="enemy12"></div>
<div id="enemy13"></div>
<div id="enemy14"></div>
<div id="portal1"></div>
<div id="portal2"></div>
<div id="entry1"></div>
<div id="entry2"></div>
</div>
</body>
<style>
#main {
background-color: crimson;
width: 100px;
height: 100px;
position: absolute;
left: 48%;
top: 95%;
border-radius: 50px;
z-index: 99999;
}
 
 

body {
background-color: aqua;
overflow: scroll;
}
 
 

#floor1 {
background-color: black;
width: 5000px;
height: 15px;
position: absolute;
left: 0%;
top: 299%;
}
  
#floor2 {
background-color: black;
width: 150px;
height: 50px;
position: absolute;
left: 90%;
top: 285%;
}
   
#floor3 {
background-color: black;
width: 150px;
height: 50px;
position: absolute;
left: 70%;
top: 275%;
}
   
#floor4 {
background-color: black;
width: 150px;
height: 50px;
position: absolute;
left: 40%;
top: 250%;
}
   
#floor5 {
background-color: black;
width: 150px;
height: 50px;
position: absolute;
left: 5%;
top: 235%;
}
   
#floor6 {
background-color: black;
width: 150px;
height: 1000px;
position: absolute;
left: 35%;
top: 100%;
}

#floor7 {
background-color: black;
width: 400px;
height: 50px;
position: absolute;
left: 140%;
top: 270%;
}

#floor8 {
background-color: black;
width: 300px;
height: 50px;
position: absolute;
left: 145%;
top: 240%;
}

#floor9 {
background-color: black;
width: 200px;
height: 50px;
position: absolute;
left: 150%;
top: 210%;
}

#floor10 {
background-color: black;
width: 50px;
height: 50px;
position: absolute;
left: 160%;
top: 105%;
}

#floor11 {
background-color: black;
width: 50px;
height: 50px;
position: absolute;
left: 145%;
top: 140%;
}

#floor12 {
background-color: black;
width: 50px;
height: 50px;
position: absolute;
left: 170%;
top: 170%;
}

#floor13 {
background-color: black;
width: 50px;
height: 50px;
position: absolute;
left: 140%;
top: 190%;
}

#floor14 {
background-color: black;
width: 250px;
height: 50px;
position: absolute;
left: 225%;
top: 265%;
}

#floor15 {
background-color: black;
width: 400px;
height: 400px;
position: absolute;
left: 190%;
top: 70%;
}

#floor16 {
background-color: black;
width: 25px;
height: 25px;
position: absolute;
left: 270%;
top: 255%;
}

#floor17 {
background-color: black;
width: 25px;
height: 25px;
position: absolute;
left: 300%;
top: 255%;
}

#floor18 {
background-color: black;
width: 25px;
height: 25px;
position: absolute;
left: 330%;
top: 244%;
}

#floor19 {
background-color: purple;
width: 225px;
height: 50px;
position: absolute;
left: 340%;
top: 285%;
}

#floor20 {
background-color: brown;
width: 225px;
height: 50px;
position: absolute;
left: 320%;
top: 100%;
}

#floor21 {
background-color: brown;
width: 225px;
height: 50px;
position: absolute;
left: 240%;
top: 45%;
}
   
#enemy1 {
background-color: indianred;
width: 100px;
height: 100px;
position: absolute;
left: 35%;
top: 135%;
}
   
#enemy3 {
background-color: indianred;
width: 100px;
height: 100px;
position: absolute;
left: 10%;
top: 295%;
}
   
#enemy4 {
background-color: indianred;
width: 100px;
height: 100px;
position: absolute;
left: 70%;
top: 295%;
}
   
#enemy2 {
background-color: indianred;
width: 100px;
height: 100px;
position: absolute;
left: 70%;
top: 110%;
}

#enemy5 {
background-color: indianred;
width: 50px;
height: 1750px;
position: absolute;
left: 110%;
top: 100%;
}

#enemy6 {
background-color: blue;
width: 50px;
height: 50px;
position: absolute;
left: 150%;
top: 204.5%;
}

#enemy7 {
background-color: blue;
width: 50px;
height: 50px;
position: absolute;
left: 145%;
top: 234.5%;
}

#enemy8 {
background-color: blue;
width: 50px;
height: 50px;
position: absolute;
left: 140%;
top: 264.5%;
}

#enemy9 {
background-color: indianred;
width: 50px;
height: 2247px;
position: absolute;
left: 210%;
top: 44.5%;
}

#enemy10 {
background-color: indianred;
width: 2000px;
height: 25px;
position: absolute;
left: 210%;
top: 298%;
}

#enemy11 {
background-color: indianred;
width: 25px;
height: 350px;
position: absolute;
left: 270%;
top: 260%;
}

#enemy12 {
background-color: indianred;
width: 25px;
height: 350px;
position: absolute;
left: 300%;
top: 260%;
}

#enemy13 {
background-color: indianred;
width: 25px;
height: 447px;
position: absolute;
left: 330%;
top: 249%;
}

#enemy14 {
background-color: indianred;
width: 40px;
height: 200px;
position: absolute;
left: 285%;
top: 15%;
}
   
#portal1 {
background-color: deeppink;
width: 250px;
height: 25px;
position: absolute;
left: 2%;
top: 75%;
z-index: 90;
transform: rotate(90deg);
}
   
#portal2 {
background-color: deeppink;
width: 250px;
height: 25px;
position: absolute;
left: 150%;
top: 75%;
z-index: 90;
transform: rotate(90deg);
}

#entry1 {
background-color: silver;
top: 295%;
left: 125%;
position: absolute;
width: 150px;
height: 50px;
}

#entry2 {
background-color: silver;
top: 235%;
left: 225%;
position: absolute;
width: 150px;
height: 50px;
}

#saveb {
position: absolute;
left: 5%;
top: 150%;
width: 50px;
height: 50px;
}

.page-wrap {
width: 960px;
margin: 0 auto;
}
</style>
 
 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$('#saveb').click(function() {
localStorage.setItem('Progress', level);
});
   
function Random(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}   
 
 
 
var colors = ['aqua', 'aquamarine', 'brown', 'yellow', 'pink', 'maroon', 'purple', 'red', 'crimson', 'green', 'blue', 'ghostwhite', 'black', 'gray', 'firebrick', 'deeppink', 'olive', 'teal', 'lime', 'navy', 'orange'];   
   
function facemove2() {
$('#main').animate({'top' : '-=225'}, 750);
setTimeout(function() {
 if (facing === 1) {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 } else if (facing === 2) {
  $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
  setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
   setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 setTimeout(function() {
 $('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }, 15);
 }
 }, 15);
}
var play = 0;
var jumping = 0;
var fallnumb = 0;
var level = 0;
var safe = 0;
var xsafe = 0;
var n = 0;
var lefty = 0;
var righty = 0;
var risen = 0;
var risenready = 0;
var lower = 0;
var lowerready = 1;
var saveanswer = 0;
var upgraded = 0;
var interval = 0;
var intervall = 0;
var facing = 0;
var touched = 0;
var touched2 = 0;
var mainpos = $('#main').offset();
var mainleft = mainpos.left;
var maintop = mainpos.top;
 
 

function facemove() {
    if (facing === 1) {
facemove2();
console.info('Step 1');
        setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 5 , top: $('#main').offset().top});
            facing = 1;
            console.info('Step 2');
            if (safe === 0) {
            setTimeout(function() {
                facemove3();
                console.info('Step 3');
            }, 15);
            }
        }, 800);
    } else if (facing === 2) {
        facemove2();
        setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left - 5 , top: $('#main').offset().top});
            facing = 2;
            if (safe === 0) {
            setTimeout(function() {
                facemove3();
            }, 15);
            }
        }, 800);
    }
}  
 
function facemove3() {
    console.info('Step 4');
    if (facing === 1) {
        $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 5');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 6');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 5');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 6');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 5');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
            console.info('Step 6');
            if (safe === 0) {
            setTimeout(function() {
            $('#main').offset({left: $('#main').offset().left + 10 , top: $('#main').offset().top});
        }, 15);
        }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
        }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
        }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
            }
        }, 15);
        }
    } else if (facing === 2) {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});
        if (safe === 0) {
        setTimeout(function() {
        $('#main').offset({left: $('#main').offset().left - 10 , top: $('#main').offset().top});

        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
        }, 15);
        }
    }
}
   
setTimeout(function() {
play = 1;
}, 1000);
 
 

$(document).keydown(function (e) {
 
 
 

key = e.keyCode;
 
 
 

switch (key) {
case 65:
if (jumping === 0) {
$('#main').offset({left: $('#main').offset().left - 10, top: $('#main').offset().top});
} else {
$('#main').offset({left: $('#main').offset().left - 15, top: $('#main').offset().top});
}
facing = 2;
break;
 
case 68:
if (jumping === 0) {
$('#main').offset({left: $('#main').offset().left + 10, top: $('#main').offset().top});
} else {
$('#main').offset({left: $('#main').offset().left + 15, top: $('#main').offset().top});
}
facing = 1;
break;
 
case 87:
if (jumping === 0) {
jumping = 1;
if (facing === 0) {
$('#main').animate({'top' : '-=225px'}, 750);
setTimeout(function() {
    if (safe === 1) {
    jumping = 0;
    } else {
        wait50();
    }
}, 750);
} else {
facemove();
wait440();
}
}
break;
       
case 83:
if (safe === 1) {
$('#main').offset({left: $('#main').offset().left, top: $('#main').offset().top + 5});
} 
break;
}
});
 
 

setInterval(function() {
    for (var i = 0; i < 21; i++) {
        if (mainleft < $('#floor' + (i+1).toString()).offset().left + $('#floor' + (i+1).toString()).width() ) {
            if (mainleft + $('#main').width() > $('#floor' + (i+1).toString()).offset().left ) {
                if (maintop < $('#floor' + (i+1).toString()).offset().top + $('#floor' + (i+1).toString()).height() ) {
                    if (maintop + $('#main').height() > $('#floor' + (i+1).toString()).offset().top ) {
                        safe = 1;
                        n = 0;
                    } else {
                        n++;
                    }
                } else {
                    n++;
                }
            } else {
                n++
            }
        } else {
            n++;
        }
        if (n > 20) {
            safe = 0;
        }
    }
}, 30);
  
setInterval(function() {
    mainpos = $('#main').offset();
    mainleft = mainpos.left;
    maintop = mainpos.top;
}, 15);
  
checktouch();
  
function checktouch() {
    if (safe === 0) {
        $('#main').offset({left: $('#main').offset().left , top: $('#main').offset().top + 5});
        setTimeout(function() {
            checktouch();
            console.debug('Working');
        }, 15);
    } else {
        setTimeout(function() {
        checktouch();
        console.debug('Working');
        }, 50);
    }
}
   checkenemytouch();
function checkenemytouch() {
    for (var j = 0; j < 14; j++) {
        if (mainleft < $('#enemy' + (j+1).toString()).offset().left + $('#enemy' + (j+1).toString()).width() ) {
            if (mainleft + $('#main').width() > $('#enemy' + (j+1).toString()).offset().left ) {
                if (maintop < $('#enemy' + (j+1).toString()).offset().top + $('#enemy' + (j+1).toString()).height() ) {
                    if (maintop + $('#main').height() > $('#enemy' + (j+1).toString()).offset().top ) {
xsafe = 1;
                        $('#main').fadeOut('faster');
if (level === 0) {
$('#main').css('left', '25%');
$('#main').css('top', '200%');
} else if (level === 1) {
$('#main').css('left', '125%');
$('#main').css('top', '280%');
} else if (level === 2) {
$('#main').css('left', '225%');
$('#main').css('top', '235%');
}
$('#main').fadeIn('fast');
$('#main').fadeOut('faster');
$('#main').fadeIn('fast');

setTimeout(function() {
xsafe = 0;
}, 500);
                    }
                }
            }
        }
    }
if (xsafe === 0) {
setTimeout(function() {
checkenemytouch();
}, 15);
} else {
setTimeout(function() {
checkenemytouch();
}, 500);
}
}
   
function wait440() {
    setTimeout(function() {
        if (safe === 1) {
        jumping = 0;
        } else {
            waitminimal();
        }
    }, 500);
}
   
function waitminimal() {
    setTimeout(function() {
        if (safe === 1) {
        jumping = 0;
        } else {
            waitminimal();
        }
    }, 100);
}
   
function wait50() {
    setTimeout(function() {
        if (safe === 1) {
            jumping = 0;
        } else {
            wait50();
        }
    }, 50);
}
   
setInterval(function() {
    for (var h = 0 ; h < 2 ; h++) {
    $('#portal' + (h+1).toString()).css('background-color', colors[Random(0, 20)]);
    }
}, 100);
   
setInterval(function() {
    for (var o = 0; o < 2; o++) {
console.log('Erm');
        if (mainleft < $('#portal' + (o+1).toString()).offset().left + $('#portal' + (o+1).toString()).width() ) {
            if (mainleft + $('#main').width() > $('#portal' + (o+1).toString()).offset().left ) {
                if (maintop < $('#portal' + (o+1).toString()).offset().top + $('#portal' + (o+1).toString()).height() ) {
                    if (maintop + $('#main').height() > $('#portal' + (o+1).toString()).offset().top ) {
console.log('Er');
if (level === 0) {
level++;
console.log('Done1');
$('#main').css('left', '125%');
$('#main').css('top', '280%');
} else if (level === 1) {
console.log('Done');
level++;
$('#main').css('left', '225%');
$('#main').css('top', '280%');
}
                        }
                    }
                }
            }
        }
    }, 15);
   
function clearPage() {
    for (var t = 0 ; t < 9 ; t++) {
        $('#floor' + (t+1).toString()).hide();
    }
    for (var p = 0 ; p < 5 ; p++) {
        $('#enemy' + (p+1).toString()).hide();
    }
    for (var q = 0 ; q < 2 ; q++) {
        $('#portal' + (q+1).toString()).hide();
    }
}
   
function level1() {
    clearPage();
    for (var w = 0 ; w < 6 ; w++) {
        $('#floor' + (w+1).toString()).show();
    }
    for (var e = 0 ; e < 4 ; e++) {
        $('#enemy' + (e+1).toString()).show();
    }
    for (var x = 0 ; x < 1 ; x++) {
        $('#portal' + (x+1).toString()).show();
    }
}

$(document).keyup(function (z) {
 
 
 

key = z.keyCode;
 
 
 

switch (key) {
case 65:
facing = 0;
break;
 
case 68:
facing = 0;
break;
}
});

setInterval(function() {
$('#enemy6').animate({'left' : '+=150'}, 3000);
setTimeout(function() {
$('#enemy6').animate({'left' : '-=150'}, 3000);
}, 3500);
}, 6500);

setInterval(function() {
$('#enemy7').animate({'left' : '+=250'}, 3500);
setTimeout(function() {
$('#enemy7').animate({'left' : '-=250'}, 3500);
}, 3500);
}, 7000);

setInterval(function() {
$('#enemy8').animate({'left' : '+=350'}, 4000);
setTimeout(function() {
$('#enemy8').animate({'left' : '-=350'}, 4000);
}, 4000);
}, 8000);

setInterval(function() {
if (risenready === 0) {
if (risen > 15) {
risenready = 1;
risen = 0;
lower = 0;
lowerready = 0;
}
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top - 5});
touchmoving();
risen++;
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}
}, 300);


setInterval(function() {
if (lowerready === 0) {
if (lower > 15) {
lowerready = 1;
lower = 0;
risen = 0;
risenready = 0;
}
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
setTimeout(function() {
$('#floor19').offset({left: $('#floor19').offset().left, top: $('#floor19').offset().top + 5});
touchmoving();
lower++;
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}, 15);
}
}, 300);

function touchmoving() {
if (jumping === 0) {
if (mainleft < $('#floor19').offset().left + $('#floor19').width()) {
if (mainleft + $('#main').width() > $('#floor19').offset().left) {
if (maintop < $('#floor19').offset().top + $('#floor19').height()) {
if (maintop + $('#main').height() > $('#floor19').offset().top) {
if (lowerready === 1) {
$('#main').offset({left: $('#main').offset().left, top: $('#main').offset().top - 5});
} else {
$('#main').offset({left: $('#main').offset().left, top: $('#main').offset().top + 5});
}
}
}
}
}
}
}

setInterval(function() {
if (touched === 0) {
console.log('Work');
if (mainleft < $('#floor20').offset().left + $('#floor20').width()) {
if (mainleft + $('#main').width() > $('#floor20').offset().left) {
if (maintop < $('#floor20').offset().top + $('#floor20').height()) {
if (maintop + $('#main').height() > $('#floor20').offset().top) {
touched = 1;
platform1m();
}
}
}
}
}
}, 15);

setInterval(function() {
if (touched2 === 0) {
console.log('Work');
if (mainleft < $('#floor21').offset().left + $('#floor21').width()) {
if (mainleft + $('#main').width() > $('#floor21').offset().left) {
if (maintop < $('#floor21').offset().top + $('#floor21').height()) {
if (maintop + $('#main').height() > $('#floor21').offset().top) {
touched2 = 1;
platform2m();
}
}
}
}
}
}, 15);

function platform1m() {
intervall = setInterval(function() {
if (lefty < 150) {
if (mainleft < $('#floor20').offset().left + $('#floor20').width()) {
if (mainleft + $('#main').width() > $('#floor20').offset().left) {
if (maintop < $('#floor20').offset().top + $('#floor20').height()) {
if (maintop + $('#main').height() > $('#floor20').offset().top) {
$('#floor20').offset({left: $('#floor20').offset().left - 5, top: $('#floor20').offset().top });
touchmoving2();
lefty++;
}
} else {
setTimeout(function() {
platform1m();
}, 15);
}
} else {
setTimeout(function() {
platform1m();
}, 15);
}
} else {
setTimeout(function() {
platform1m();
}, 15);
}
} else {
clearInterval(intervall);
}
}, 15);
}

function platform2m() {
interval = setInterval(function() {
if (righty < 175) {
if (mainleft < $('#floor21').offset().left + $('#floor21').width()) {
if (mainleft + $('#main').width() > $('#floor21').offset().left) {
if (maintop < $('#floor21').offset().top + $('#floor21').height()) {
if (maintop + $('#main').height() > $('#floor21').offset().top) {
$('#floor21').offset({left: $('#floor21').offset().left + 5, top: $('#floor21').offset().top });
touchmoving3();
righty++;
}
} else {
setTimeout(function() {
platform2m();
}, 15);
}
} else {
setTimeout(function() {
platform2m();
}, 15);
}
} else {
setTimeout(function() {
platform2m();
}, 15);
}
} else {
clearInterval(interval);
}
}, 15);
}

function touchmoving2() {
if (jumping === 0) {
if (mainleft < $('#floor20').offset().left + $('#floor20').width()) {
if (mainleft + $('#main').width() > $('#floor20').offset().left) {
if (maintop < $('#floor20').offset().top + $('#floor20').height()) {
if (maintop + $('#main').height() > $('#floor20').offset().top) {
$('#main').offset({left: $('#main').offset().left - 5, top: $('#main').offset().top });
}
}
}
}
}
}

function touchmoving3() {
if (jumping === 0) {
if (mainleft < $('#floor21').offset().left + $('#floor21').width()) {
if (mainleft + $('#main').width() > $('#floor21').offset().left) {
if (maintop < $('#floor21').offset().top + $('#floor21').height()) {
if (maintop + $('#main').height() > $('#floor21').offset().top) {
$('#main').offset({left: $('#main').offset().left + 5, top: $('#main').offset().top });
}
}
}
}
}
}
</script>
 
 
 
</html>